# Auto Tax Gov Configuration
# Copy this file to config.yaml and update with your values

# Server settings
server:
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s

# HTTP client settings
http:
  timeout: 60s
  max_redirects: 20
  verify_tls: true
  save_cookies: true
  follow_redirects: true
  output_dir: redirect_steps

# Services configuration
services:
  # MyGovAuth - Government SSO authentication service
  mygovauth:
    base_url: "https://sso.my.gov.ir"
    auth_url: "https://sso.my.gov.ir/oauth2/authorize"
    login_url: "https://sso.my.gov.ir/login"
    logged_in_url: "https://sso.my.gov.ir/logged-in"
    captcha_url: "https://sso.my.gov.ir/client/v1/captcha"
    send_otp_url: "https://sso.my.gov.ir/sendOtp"
    verify_otp_url: "https://sso.my.gov.ir/login_otp"
    # Authorization header for captcha requests (base64 encoded client credentials)
    auth_header: "Basic YOUR_AUTH_HEADER_HERE"

  # MyTax - Tax portal service (my.tax.gov.ir)
  mytax:
    base_url: "https://my.tax.gov.ir"
    callback_url: "https://my.tax.gov.ir/myiran/sso"
    dashboard_url: "https://my.tax.gov.ir/Page/Dashboard"
    registration_url: "https://my.tax.gov.ir/Page/NewRegistration/"
    client_id: "my.tax"
    redirect_uri: "https://my.tax.gov.ir/myiran/sso"

  # Enamad - E-trust symbol service (reg2.enamad.ir)
  enamad:
    base_url: "https://reg2.enamad.ir"
    callback_url: "https://reg2.enamad.ir/callback"
    client_id: "enamad"
    redirect_uri: "https://reg2.enamad.ir/callback"

  # Mojavez - Business licensing service (mojavez.ir)
  mojavez:
    base_url: "https://mojavez.ir"
    callback_url: "https://mojavez.ir/callback"
    client_id: "mojavez"
    redirect_uri: "https://mojavez.ir/callback"

# Logging configuration
log:
  level: info # debug, info, warn, error
  format: text # text or json
